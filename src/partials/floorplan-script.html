<script>
  $(document).ready(function() {
    // Load floor plan units
    function displayFloorplanUnits(json, ele) {
      $.getJSON(json, function (data) {
        $units = $(ele).find('.floorplan-units-wrap');

        for (var key in data) {
          var val = data[key];

          for (var i = 0; i < val['units'].length; i++) {
            $unit = val['units'][i];
            $unitSize = '';

            if ($unit['unit']) {
              $('#unit-' + $unit['unit']).attr('data-vacant', $unit['vacant']);
              
              $btnEnquire = ($unit['vacant'] == true) ? '<a href="#" class="button">Enquire Us</a>' : '';
              $unitTooltip = '<div class="floorplan--tooltip"><div><p>Unit No: <span>'+ $unit['unit'] +'</span></p><p>Type: <span>'+ $unit['unit'] +'</span></p><p>Floor Area: <span>'+ $unit['area'] +'</span></p><p>Floor Layout: <span><a href="'+ $unit['layout'] +'">View Diagram</a></span></p><p>Rental: <span>'+ $unit['rental'] +'</span></p>'+ $btnEnquire +'</div></div>';

              $('#unit-' + $unit['unit']).append($unitTooltip);
            }
          }
        }
      });
    }

    displayFloorplanUnits('./assets/floorplan/sme1.json', '#floorG');
    displayFloorplanUnits('./assets/floorplan/sme1-1.json', '#floor1');
    displayFloorplanUnits('./assets/floorplan/sme1-2.json', '#floor2');
    displayFloorplanUnits('./assets/floorplan/sme1-3.json', '#floor3');

    displayFloorplanUnits('./assets/floorplan/sme2.json', '#floorG');
    displayFloorplanUnits('./assets/floorplan/sme2-1.json', '#floor1');
    displayFloorplanUnits('./assets/floorplan/sme2-2.json', '#floor2');
    displayFloorplanUnits('./assets/floorplan/sme2-3.json', '#floor3');

    displayFloorplanUnits('./assets/floorplan/sme3-g.json', '#floorG');
    displayFloorplanUnits('./assets/floorplan/sme3-1.json', '#floor1');

    displayFloorplanUnits('./assets/floorplan/12-g.json', '#floorG');
    displayFloorplanUnits('./assets/floorplan/12-1.json', '#floor1');
    displayFloorplanUnits('./assets/floorplan/12-2.json', '#floor2');
    displayFloorplanUnits('./assets/floorplan/12-3.json', '#floor3');
    displayFloorplanUnits('./assets/floorplan/12-4.json', '#floor4');
    displayFloorplanUnits('./assets/floorplan/12-5.json', '#floor5');
    displayFloorplanUnits('./assets/floorplan/12-6.json', '#floor6');

    displayFloorplanUnits('./assets/floorplan/12a-g.json', '#floorG');
    displayFloorplanUnits('./assets/floorplan/12a-1.json', '#floor1');
    displayFloorplanUnits('./assets/floorplan/12a-2.json', '#floor2');
    displayFloorplanUnits('./assets/floorplan/12a-3.json', '#floor3');
    displayFloorplanUnits('./assets/floorplan/12a-4.json', '#floor4');
    displayFloorplanUnits('./assets/floorplan/12a-5.json', '#floor5');
    displayFloorplanUnits('./assets/floorplan/12a-6.json', '#floor6');
    displayFloorplanUnits('./assets/floorplan/12a-7.json', '#floor7');
    displayFloorplanUnits('./assets/floorplan/12a-8.json', '#floor8');
    displayFloorplanUnits('./assets/floorplan/12a-9.json', '#floor9');
    displayFloorplanUnits('./assets/floorplan/12a-10.json', '#floor10');
    displayFloorplanUnits('./assets/floorplan/12a-11.json', '#floor11');
  })
</script>